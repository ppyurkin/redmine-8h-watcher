# Redmine 8h Watcher

Расширение для браузера Chrome, которое помогает сотрудникам не забывать вовремя логировать трудозатраты в Redmine. Оно автоматически проверяет отчёт «Затраты времени» и напоминает, если за прошедшие **настроенные рабочие дни** было внесено меньше часов, чем указано в настройках.

## Возможности
- Регулярные проверки по расписанию в рабочие часы (с учётом обеденного перерыва).
- Проверка только в рабочие дни из настроек и с учётом исключённых дат (отпуск/больничный и т.п.).
- Отображение количества недостающих часов на бейдже и отправка уведомлений.
- Настройка ссылки на отчёт, минимального количества часов, рабочего графика и списка рабочих дней недели.
- Подсветка строк с дефицитом часов непосредственно в отчёте Redmine.
- Опциональные отладочные логи (по умолчанию выключены).

## Ограничения URL отчёта
`reportUrl` нельзя указывать произвольно: расширение принимает только ссылки того же origin и пути `/time_entries/report...`, что и у дефолтного Redmine-хоста из `host_permissions`.

## Установка
1. Скачайте или клонируйте репозиторий. Например, выполните:
    ```
    git clone https://github.com/ppyurkin/redmine-8h-watcher.git
    ```
    либо скачайте ZIP-архив по кнопке **Code → [Download ZIP](https://github.com/ppyurkin/redmine-8h-watcher/archive/refs/heads/master.zip)** и распакуйте его в удобную папку.
1. В Chrome откройте `chrome://extensions/` и включите режим разработчика.
1. Нажмите «Загрузить распакованное расширение» и выберите папку проекта.

## Настройка
Откройте страницу настроек расширения (Options) и отредактируйте параметры под свой график:
- адрес отчёта Redmine;
- минимальное количество часов в день;
- время начала и окончания рабочего дня, время обеда и его длительность;
- рабочие дни недели;
- исключаемые диапазоны дат;
- отладочные логи.

После сохранения настройки автоматически применяются к расписанию проверок и уведомлениям.

## Ручная проверка
Нажмите на иконку расширения в панели браузера, чтобы запустить проверку вне расписания. Отчёт откроется во вкладке фона, а результат отобразится в уведомлении и на бейдже.

## Лицензия
Проект распространяется под лицензией MIT.
